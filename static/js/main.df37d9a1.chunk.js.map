{"version":3,"sources":["components/Header/Header.js","components/SearchBar/SearchBar.js","components/Results/Results.js","components/Nominations/Nominations.js","components/Main/Main.js","utils/api.js","images/banner.jpg","components/Banner/Banner.js","components/App/App.js","reportWebVitals.js","index.js"],"names":["Header","className","SearchBar","onSearch","message","handleErrorMessage","useState","value","setValue","onSubmit","e","preventDefault","type","onChange","target","placeholder","Results","movies","keyword","onNominate","map","item","Title","Year","disabled","isNominated","onClick","handleClick","imdbID","Nominations","nominations","onRemoveClick","Main","length","omdbApi","options","this","title","fetch","baseUrl","method","then","res","a","ok","json","body","Promise","reject","error","Banner","counter","alt","src","banner","App","setMovies","setNominations","setKeyword","errorMessage","setErrorMessage","findNominatedFilms","arr1","arr2","reduce","acc","currentVal","film","useEffect","nominatedMovies","JSON","parse","localStorage","getItem","searchMovies","Error","data","Search","films","current","find","concat","catch","err","movie","setItem","stringify","newNominations","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df37d9a1.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Header.css\";\n\nfunction Header() {\n  return (\n    <div className=\"header\">\n      <h1>The Shoppies</h1>\n    </div>\n  );\n}\n\nexport default Header;\n","import React, { useState } from \"react\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport \"./SearchBar.css\";\n\nfunction SearchBar({ onSearch, message, handleErrorMessage }) {\n  const [value, setValue] = useState(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onSearch(value);\n  }\n\n  function handleChange(e) {\n    handleErrorMessage();\n    setValue(e.target.value);\n  }\n\n  return (\n    <div className=\"searchBar\">\n      <h4 className=\"searchBar__title\">Movie title</h4>\n      <form onSubmit={handleSubmit}>\n        <div className=\"searchBar__container\">\n          <button type=\"submit\" className=\"searchBar__btn\">\n            <SearchIcon />\n          </button>\n          <input\n            className=\"searchBar__input\"\n            onChange={handleChange}\n            placeholder=\"Search movies...\"\n          ></input>\n        </div>\n      </form>\n      <div className=\"searchBar__error\">{message}</div>\n    </div>\n  );\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport \"./Results.css\";\n\nfunction Results({ movies, keyword, onNominate }) {\n  function handleClick(item) {\n    onNominate(item);\n  }\n  return (\n    <div className=\"results\">\n      <h4 className=\"results__title\">Results for \"{keyword}\"</h4>\n      <ul className=\"results__list\">\n        {movies.map((item) => {\n          return (\n            <li className=\"results__item\" key={item.imdbID}>\n              {item.Title} ({item.Year})\n              <button\n                type=\"button\"\n                disabled={item.isNominated}\n                className={`results__btn ${\n                  item.isNominated ? \"results__btn_disabled\" : \"\"\n                }`}\n                onClick={() => handleClick(item)}\n              >\n                Nominate\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\nexport default Results;\n","import React from \"react\";\nimport \"../Results/Results.css\";\n\nfunction Nominations({ nominations, onRemoveClick }) {\n  function handleClick(item) {\n    onRemoveClick(item);\n  }\n  return (\n    <div className=\"results\">\n      <h4 className=\"results__title\">Nominations</h4>\n      <ul className=\"results__list\">\n        {nominations.map((item) => {\n          return (\n            <li className=\"results__item\" key={item.imdbID}>\n              {item.Title} ({item.Year})\n              <button\n                className=\"results__btn\"\n                onClick={() => handleClick(item)}\n              >\n                Remove\n              </button>\n            </li>\n          );\n        })}\n      </ul>\n    </div>\n  );\n}\n\nexport default Nominations;\n","import React from \"react\";\nimport \"./Main.css\";\nimport Results from \"../Results/Results\";\nimport Nominations from \"../Nominations/Nominations\";\n\nfunction Main({ movies, keyword, nominations, onNominate, onRemoveClick }) {\n  return (\n    <section className=\"main\">\n      {movies.length > 0 && (\n        <Results movies={movies} keyword={keyword} onNominate={onNominate} />\n      )}\n      {nominations.length > 0 && (\n        <Nominations nominations={nominations} onRemoveClick={onRemoveClick} />\n      )}\n    </section>\n  );\n}\n\nexport default Main;\n","\nclass MoviesApi {\n    constructor(options) {\n        this.options = options;\n    }\n\n    searchMovies(title) {\n        return fetch(\n            `${this.options.baseUrl}?s=${title}&apikey=507284`,\n            {\n                method: \"GET\",\n            }\n        ).then(async (res) => {\n            if(res.ok) {\n                return res.json();\n            }\n            const body = await res.json();\n            return Promise.reject(body.error); \n        });\n    }\n}\n\nconst omdbApi = new MoviesApi({\n    baseUrl: \"https://www.omdbapi.com/\",\n});\n\nexport default omdbApi;","export default __webpack_public_path__ + \"static/media/banner.5835c278.jpg\";","import React from \"react\";\nimport \"./Banner.css\";\nimport banner from \"../../images/banner.jpg\";\n\nfunction Banner({ counter }) {\n  return (\n    <div className=\"banner\">\n      <img className=\"banner__img\" alt=\"popcorn\" src={banner} />\n      <div className=\"banner__text\">You have {counter} nominees!</div>\n    </div>\n  );\n}\n\nexport default Banner;\n","import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Header from \"../Header/Header\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport Main from \"../Main/Main\";\nimport omdbApi from \"../../utils/api\";\nimport Banner from \"../Banner/Banner\";\n\nfunction App() {\n  const [movies, setMovies] = useState([]);\n  const [nominations, setNominations] = useState([]);\n  const [keyword, setKeyword] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  // Filter out dublicates from api data\n  function removeDublicates(arr) {\n    const filteredArr = arr.reduce((acc, current) => {\n      const x = acc.find((item) => item.imdbID === current.imdbID);\n      if (!x) {\n        return acc.concat([current]);\n      } else {\n        return acc;\n      }\n    }, []);\n    return filteredArr;\n  }\n\n  // finds films that are already nominated\n  function findNominatedFilms(arr1, arr2) {\n    let map = arr2.reduce((acc, currentVal) => {\n      let id = currentVal.imdbID;\n      acc[id] = true;\n      return acc;\n    }, {});\n    arr1.map((film) => {\n      if (film.imdbID in map) {\n        film.isNominated = true;\n      } else {\n        film.isNominated = false;\n      }\n      return film;\n    });\n    return arr1;\n  }\n\n  function handleMovieSearch(title) {\n    setErrorMessage(\"\");\n    setKeyword(title);\n    omdbApi\n      .searchMovies(title)\n      .then((res) => {\n        if (res.Error) {\n          setErrorMessage(res.Error);\n          setMovies([]);\n        } else {\n          let data = res.Search;\n          data = removeDublicates(data);\n          const films = findNominatedFilms(data, nominations);\n          setMovies(films);\n        }\n      })\n      .catch((err) => setErrorMessage(err));\n  }\n\n  function handleNominateClick(movie) {\n    movie.isNominated = true;\n    setNominations([...nominations, movie]);\n    localStorage.setItem(\n      \"nominatedMovies\",\n      JSON.stringify([...nominations, movie])\n    );\n  }\n\n  function handleRemoveClick(movie) {\n    const newNominations = nominations.filter(\n      (item) => item.imdbID !== movie.imdbID\n    );\n    setNominations(newNominations);\n    localStorage.setItem(\"nominatedMovies\", JSON.stringify(newNominations));\n    const films = findNominatedFilms(movies, newNominations);\n    setMovies(films);\n  }\n\n  useEffect(() => {\n    const nominatedMovies = JSON.parse(localStorage.getItem(\"nominatedMovies\"));\n    if (nominatedMovies) {\n      setNominations(nominatedMovies);\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      {nominations.length >= 5 && <Banner counter={nominations.length} />}\n      <Header />\n      <SearchBar\n        onSearch={handleMovieSearch}\n        message={errorMessage}\n        handleErrorMessage={() => setErrorMessage(\"\")}\n      />\n      <Main\n        movies={movies}\n        keyword={keyword}\n        onNominate={handleNominateClick}\n        nominations={nominations}\n        onRemoveClick={handleRemoveClick}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className=\"App\"/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}
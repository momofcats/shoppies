(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{11:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){},26:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n.n(s),r=n(6),a=n.n(r),i=(n(22),n(10)),o=n(3),u=(n(23),n(24),n(1));var l=function(){return Object(u.jsx)("div",{className:"header",children:Object(u.jsx)("h1",{children:"The Shoppies"})})},j=n(12),m=n.n(j);n(26);var b=function(e){var t=e.onSearch,n=e.message,c=e.handleErrorMessage,r=Object(s.useState)(""),a=Object(o.a)(r,2),i=a[0],l=a[1];return Object(u.jsxs)("div",{className:"searchBar",children:[Object(u.jsx)("h4",{className:"searchBar__title",children:"Movie title"}),Object(u.jsx)("form",{onSubmit:function(e){e.preventDefault(),t(i)},children:Object(u.jsxs)("div",{className:"searchBar__container",children:[Object(u.jsx)("button",{type:"submit",className:"searchBar__btn",children:Object(u.jsx)(m.a,{})}),Object(u.jsx)("input",{className:"searchBar__input",onChange:function(e){c(),l(e.target.value)},placeholder:"Search movies..."})]})}),Object(u.jsx)("div",{className:"searchBar__error",children:n})]})};n(35),n(11);var d=function(e){var t=e.movies,n=e.keyword,s=e.onNominate;return Object(u.jsxs)("div",{className:"results",children:[Object(u.jsxs)("h4",{className:"results__title",children:['Results for "',n,'"']}),Object(u.jsx)("ul",{className:"results__list",children:t.map((function(e){return Object(u.jsxs)("li",{className:"results__item",children:[e.Title," (",e.Year,")",Object(u.jsx)("button",{type:"button",disabled:e.isNominated,className:"results__btn ".concat(e.isNominated?"results__btn_disabled":""),onClick:function(){return function(e){s(e)}(e)},children:"Nominate"})]},e.imdbID)}))})]})};var h=function(e){var t=e.nominations,n=e.onRemoveClick;return Object(u.jsxs)("div",{className:"results",children:[Object(u.jsx)("h4",{className:"results__title",children:"Nominations"}),Object(u.jsx)("ul",{className:"results__list",children:t.map((function(e){return Object(u.jsxs)("li",{className:"results__item",children:[e.Title," (",e.Year,")",Object(u.jsx)("button",{className:"results__btn",onClick:function(){return function(e){n(e)}(e)},children:"Remove"})]},e.imdbID)}))})]})};var f=function(e){var t=e.movies,n=e.keyword,s=e.nominations,c=e.onNominate,r=e.onRemoveClick;return Object(u.jsxs)("section",{className:"main",children:[t.length>0&&Object(u.jsx)(d,{movies:t,keyword:n,onNominate:c}),s.length>0&&Object(u.jsx)(h,{nominations:s,onRemoveClick:r})]})},v=n(9),O=n.n(v),p=n(14),x=n(15),N=n(16),_=new(function(){function e(t){Object(x.a)(this,e),this.options=t}return Object(N.a)(e,[{key:"searchMovies",value:function(e){return fetch("".concat(this.options.baseUrl,"?s=").concat(e,"&apikey=507284"),{method:"GET"}).then(function(){var e=Object(p.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.ok){e.next=2;break}return e.abrupt("return",t.json());case 2:return e.next=4,t.json();case 4:return n=e.sent,e.abrupt("return",Promise.reject(n.error));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}())({baseUrl:"http://www.omdbapi.com/"}),g=(n(37),n.p+"static/media/banner.5835c278.jpg");var S=function(e){var t=e.counter;return Object(u.jsxs)("div",{className:"banner",children:[Object(u.jsx)("img",{className:"banner__img",alt:"popcorn",src:g}),Object(u.jsxs)("div",{className:"banner__text",children:["You have ",t," nominees!"]})]})};var k=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),a=Object(o.a)(r,2),j=a[0],m=a[1],d=Object(s.useState)(""),h=Object(o.a)(d,2),v=h[0],O=h[1],p=Object(s.useState)(""),x=Object(o.a)(p,2),N=x[0],g=x[1];function k(e,t){var n=t.reduce((function(e,t){return e[t.imdbID]=!0,e}),{});return e.map((function(e){return e.imdbID in n?e.isNominated=!0:e.isNominated=!1,e})),e}return Object(s.useEffect)((function(){var e=JSON.parse(localStorage.getItem("nominatedMovies"));e&&m(e)}),[]),Object(u.jsxs)("div",{className:"App",children:[j.length>=5&&Object(u.jsx)(S,{counter:j.length}),Object(u.jsx)(l,{}),Object(u.jsx)(b,{onSearch:function(e){g(""),O(e),_.searchMovies(e).then((function(e){if(e.Error)g(e.Error),c([]),console.log(e.Error);else{var t=e.Search,n=k(t=t.reduce((function(e,t){return e.find((function(e){return e.imdbID===t.imdbID}))?e:e.concat([t])}),[]),j);c(n),console.log(n)}})).catch((function(e){return console.log(e)}))},message:N,handleErrorMessage:function(){return g("")}}),Object(u.jsx)(f,{movies:n,keyword:v,onNominate:function(e){e.isNominated=!0,console.log(e),m([].concat(Object(i.a)(j),[e])),localStorage.setItem("nominatedMovies",JSON.stringify([].concat(Object(i.a)(j),[e])))},nominations:j,onRemoveClick:function(e){var t=j.filter((function(t){return t.imdbID!==e.imdbID}));m(t),localStorage.setItem("nominatedMovies",JSON.stringify(t));var s=k(n,t);c(s)}})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),s(e),c(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(k,{className:"App"})}),document.getElementById("root")),I()}},[[39,1,2]]]);
//# sourceMappingURL=main.56328605.chunk.js.map